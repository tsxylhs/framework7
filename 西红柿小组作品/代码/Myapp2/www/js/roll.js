!function(a,b){function c(){var a=this;a.dom=b.querySelector(arguments[0][0]),a.times=null,a.mouseOff=!1,a.s={auto:!1,time:3e3,speed:300,type:"x",now:0,focus:!0,space:5,mouse:!1,button:!0,timing:"ease-in-out",start:function(){},end:function(){}}}function d(){return new c(arguments)}c.prototype.init=function(a){var b=this;return b.dom?(b.drag=b.dom.children[0],b.list=b.drag.children,b.len=b.list.length,b._extend(b.s,a),b.aj=0,b.now=0,b._set(),1==b.len?!1:(b._d(),b.nn=null,b.s.now&&(b.now=b.s.now,b.now=b.now<0?0:b.now,b.now=b.now>b.len-1?b.len-1:b.now,b._trans(b.drag,-(("x"==b.s.type.toLowerCase()?b.w:b.h)*b.now+b.s.space*b.now)),b._f()),b.s.auto&&(clearInterval(b.timer),b.timer=setInterval(function(){b._auto()},b.s.time)),b.s.button&&b._btn(),b.s.mouse&&b._mo(),b.s.focus&&b._f(),b.s.end.call(b.dom,b.now),void 0)):(alert("no dom"),!1)},c.prototype._trans=function(a,b){var c=this;a.style.transform=a.style.MozTransform=a.style.WebkitTransform="y"==c.s.type?"translate3d(0px,"+b+"px,0px)":"translate3d("+b+"px,0px,0px)"},c.prototype._m=function(){var c,b=this;return b.drag.style.transition=b.drag.style.MozTransition=b.drag.style.WebkitTransition=b.css2,b._trans(b.drag,-(("x"==b.s.type.toLowerCase()?b.w:b.h)*b.now+b.s.space*b.now)),[].forEach.call(b.list,function(a){a.classList.remove("active")}),b.list[b.now].classList.add("active"),c=b.now,b.focus&&([].forEach.call(b.focus,function(a){a.classList.remove("active")}),b.focus[c].classList.add("active")),b.now==b.nn?!1:(setTimeout(function(){b.s.end.call(b.dom,b.now)},b.s.speed),b.nn=b.now,setTimeout(function(){b.mouseOff=!1},300),void 0)},c.prototype._f=function(){var f,c=this,d=b.createElement("div"),e="";for(d.className="focus",f=0;f<c.len;f++)e+="<span></span>",d.innerHTML=e;c.focus=d.querySelectorAll("span"),c.focus[c.now].classList.add("active"),c.dom.appendChild(d),[].forEach.call(c.focus,function(a,b){c._ad(a,"click",function(){c.now=b,c.s.start.call(c.dom,c.now),c._m()})})},c.prototype._mo=function(){var a=this;a._w(a.drag,function(b){if(b){if(a.now==a.len-1)return;if(a.mouseOff)return!1;a.mouseOff=!0,a.now==a.len-1?a.now=a.len-1:a.now++,a.s.start.call(a.dom,a.now),a._m()}else{if(0==a.now)return;if(a.mouseOff)return!1;a.mouseOff=!0,0==a.now?a.now=0:a.now--,a.s.start.call(a.dom,a.now),a._m()}})},c.prototype._w=function(a,b){function c(c){var d=c||event,e=d.detail?d.detail>0:d.wheelDelta<0;return b.call(a,e),d.preventDefault?(d.preventDefault(),void 0):!1}this._ad(a,"DOMMouseScroll",c),this._ad(a,"mousewheel",c)},c.prototype._tap=function(a){var b=this;a.addEventListener("touchstart",function(c){function f(c){var g,h;if(c=c.changedTouches[0],g=c.pageX,h=c.pageY,Math.abs(g-d)<=5&&Math.abs(h-e)<=5)if("fnnext"==a.className){if(b.now==b.len-1)return;b.now==b.len-1?b.now=b.len-1:b.now++,b.s.start.call(b.dom,b.now),b._m()}else{if(0==b.now)return;0==b.now?b.now=0:b.now--,b.s.start.call(b.dom,b.now),b._m()}this.removeEventListener("touchend",f,!1)}var d,e;return c=c.changedTouches[0],d=c.pageX,e=c.pageY,this.addEventListener("touchend",f,!1),!1},!1)},c.prototype._btn=function(){var e,c=this,d=b.createElement("div");d.className="fnprev",e=b.createElement("div"),e.className="fnnext",c.dom.appendChild(d),c.dom.appendChild(e),navigator.userAgent.indexOf("Mobile")>0?(c._tap(e),c._tap(d)):(c._ad(d,"click",function(){0!=c.now&&(0==c.now?c.now=0:c.now--,c.s.start.call(c.dom,c.now),c._m())}),c._ad(e,"click",function(){c.now!=c.len-1&&(c.now==c.len-1?c.now=c.len-1:c.now++,c.s.start.call(c.dom,c.now),c._m())}))},c.prototype._auto=function(){var b=this;b.s.start.call(b.dom,b.now),b.now==b.len-1?b.aj=1:0==b.now&&(b.aj=-1),b.now=1==b.aj?b.now-1:b.now+1,b._m()},c.prototype._d=function(){var c=this;c.dom.onmouseover=c.dom.onmouseenter=c.dom.onmousemove=function(){clearInterval(c.timer)},c.dom.onmouseout=function(){c.s.auto&&(clearInterval(c.timer),c.timer=setInterval(function(){c._auto()},c.s.time))},c.css1="all 0s ease",c.css2="all "+c.s.speed/1e3+"s "+c.s.timing,c.drag.onmousedown=c.drag.ontouchstart=function(a){function j(a){a.preventDefault()}function k(a){return a=navigator.userAgent.indexOf("Mobile")>0?a.changedTouches[0]:a||event,e=a.pageX,i=a.pageY,"x"==c.s.type.toLowerCase()?(0==c.now&&e>d?c._trans(c.drag,(e-d+f)/3):c._trans(c.drag,e-d+f),c.now==c.len-1&&d>e&&c._trans(c.drag,(e-d)/3+f)):(0==c.now&&i>h?c._trans(c.drag,(i-h+g)/3):c._trans(c.drag,i-h+g),c.now==c.len-1&&h>i&&c._trans(c.drag,(i-h)/3+g)),a.preventDefault(),!1}function l(){var f,g;"x"==c.s.type.toLowerCase()?(f=d,g=e):(f=h,g=i),-80>=g-f?(c.now==c.len-1?c.now=c.len-1:c.now++,c.s.start.call(c.dom,c.now),c._m()):g-f>=80?(0==c.now?c.now=0:c.now--,c.s.start.call(c.dom,c.now),c._m()):c._m(),navigator.userAgent.indexOf("Mobile")>0&&c.s.auto&&(clearInterval(c.timer),c.timer=setInterval(function(){c._auto()},c.s.time)),b.removeEventListener("mousemove",k,!1),b.removeEventListener("mouseup",l,!1),b.removeEventListener("touchmove",k,!1),b.removeEventListener("touchmove",j,!1),b.removeEventListener("touchend",l,!1)}var e,i,d,f,g,h;return clearInterval(c.timer),a=navigator.userAgent.indexOf("Mobile")>0?a.changedTouches[0]:a||event,d=a.pageX,f=c._gt(this,"x"),g=c._gt(this,"y"),h=a.pageY,c.drag.style.transition=c.drag.style.MozTransition=c.drag.style.WebkitTransition=c.css1,c._trans(c.drag,"x"==c.s.type.toLowerCase()?f:g),b.addEventListener("mousemove",k,!1),b.addEventListener("mouseup",l,!1),b.addEventListener("touchmove",k,!1),b.addEventListener("touchmove",j,!1),b.addEventListener("touchend",l,!1),a.stopPropagation(),a.preventDefault(),!1}},c.prototype._set=function(){function b(){a.drag.style.transition=a.drag.style.MozTransition=a.drag.style.WebkitTransition=a.css1,a.h=parseInt(a._gs(a.dom,"height")),a.w=parseInt(a._gs(a.dom,"width")),[].forEach.call(a.list,function(b){b.style.width=a.w+"px","y"==a.s.type.toLowerCase()&&(b.style.cssText="margin-bottom:"+a.s.space+"px;height:"+a.h+"px;float:none")}),"x"==a.s.type.toLowerCase()?(a.drag.style.width=(a.w+a.s.space)*a.len+"px",a.drag.style.transform=a.drag.style.MozTransform=a.drag.style.WebkitTransform="translate3d("+-(a.w*a.now+a.s.space*a.now)+"px,0px,0px)"):a.drag.style.transform=a.drag.style.MozTransform=a.drag.style.WebkitTransform="translate3d(0px,"+-(a.h*a.now+a.s.space*a.now)+"px,0px)"}var a=this;a.w,a.h=0,a.w=parseInt(a._gs(a.dom,"width")),a.h=parseInt(a._gs(a.dom,"height")),a.list[a.now].classList.add("active"),[].forEach.call(a.list,function(b){b.style.width=a.w+"px","x"==a.s.type.toLowerCase()?b.style.marginRight=a.s.space+"px":b.style.cssText="margin-bottom:"+a.s.space+"px;height:"+a.h+"px;float:none"}),"x"==a.s.type.toLowerCase()?a.drag.style.width=(a.w+a.s.space)*a.len+"px":a.drag.style.height="auto",a._ad(window,"resize",b)},c.prototype._isArr=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.prototype._extend=function(a,b){for(var c in b)a[c]=b[c]},c.prototype._ad=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},c.prototype._gt=function(a,b){var c=this._gs(a,"MozTransform")||this._gs(a,"WebkitTransform")||this._gs(a,"msTransform")||this._gs(a,"transform"),d=c.split(",");return"x"==b.toLowerCase()?window.navigator.msPointerEnabled?parseInt(d[d.length-4])?parseInt(d[d.length-4]):0:parseInt(d[d.length-2])?parseInt(d[d.length-2]):0:window.navigator.msPointerEnabled?parseInt(d[d.length-3])?parseInt(d[d.length-3]):0:parseInt(d[d.length-1])?parseInt(d[d.length-1]):0},c.prototype._gs=function(a,b){return a.currentStyle?a.currentStyle[b]:getComputedStyle(a,null)[b]},window.roll=window.Roll=d}(window,document);